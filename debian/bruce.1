.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.46.5.
.TH BRUCE "1" "April 2015" "bruce " "User Commands"
.SH NAME
bruce \- Producer daemon for Apache Kafka
.SH SYNOPSIS
.B bruce
[\fI\,options\/\fR]

.SH OPTIONS

.TP
\fB\-\-use_old_output_format\fR
Send messages to Kafka using old format.  Do not use this option,
since it will soon be removed.  Its purpose is to provide
compatibility with legacy infrastructure at if(we).

.TP
\fB\-\-use_old_input_format\fR
Expect input UNIX datagrams to adhere to old format.  Do not use this
option, since it will soon be removed.  Its purpose is to provide
compatibility with legacy infrastructure at if(we).

.TP
\fB\-\-retry_on_unknown_partition\fR
On receipt of "unknown topic or partition" error ACK, reroute message
after updating metadata rather than discarding it.  This is a
workaround for Kafka behavior that occurs when relocating a partition
to a different broker.

.TP
\fB\-\-topic_autocreate\fR
Enable support for automatic topic creation.  The Kafka brokers must
also be configured to support this.

.TP
\fB\-\-discard_report_bad_msg_prefix_size\fR \fIMAX_BYTES\fR
Maximum bad message prefix size in bytes to write to discard report

.TP
\fB\-\-discard_log_bad_msg_prefix_size\fR \fIMAX_BYTES\fR
Maximum bad message prefix size in bytes to write to discard logfile
when discarding

.TP
\fB\-\-discard_log_max_archive_size\fR \fIMAX_BYTES\fR
See description of discard_log_max_file_size.  Once a discard logfile
is renamed from f to f.N due to the size restriction imposed by
discard_log_max_file_size, the directory containing f.N is scanned for
all old discard logfiles.  If their combined size exceeds
discard_log_max_archive_size (specified in Kb), then old logfiles are
deleted, starting with the oldest, until their combined size no longer
exceeds the maximum.

.TP
\fB\-\-discard_log_max_file_size\fR \fIMAX_KB\fR
Maximum size (in Kb) of discard logfile.  When the next log entry e
would exceed the maximum, the logfile (with name f) is renamed to f.N
wnere N is the current time in milliseconds since the epoch.  Then a
new file f is opened, and e is written to f.  See also
discard_log_max_archive_size.

.TP
\fB\-\-discard_log_path\fR \fIPATH\fR
Absolute pathname of local file where discards will be logged.  This
is intended for debugging.  If unspecified, logging of discards to a
file will be disabled.

.TP
\fB\-\-skip_compare_metadata_on_refresh\fR
On metadata refresh, don't compare new metadata to old metadata.
Always replace the metadata even if it is unchanged.  This should be
disabled for normal operation, but enabling it may be useful for
testing.

.TP
\fB\-\-msg_debug_byte_limit\fR \fIMAX_BYTES\fR
Message debugging byte limit.

.TP
\fB\-\-msg_debug_time_limit\fR \fILIMIT_SECONDS\fR
Message debugging time limit in seconds.

.TP
\fB\-\-debug_dir\fR
Directory for debug instrumentation files.

.TP
\fB\-\-no_log_discard\fR
Do not write syslog messages when discards occur.  Discard information
will still be available through the web interface.

.TP
\fB\-\-discard_report_interval\fR \fIINTERVAL_SECONDS\fR
Discard reporting interval in seconds.

.TP
\fB\-\-omit_timestamp\fR
Omit timestamps from messages (applicable only when using legacy input
format).  Do not use this option, since it will soon be removed.  Its
purpose is to provide compatibility with legacy infrastructure at
if(we).

.TP
\fB\-\-min_pause_delay\fR \fIMIN_DELAY_MS\fR
Minimum delay in milliseconds before fetching new metadata from Kafka
in response to an error.

.TP
\fB\-\-pause_rate_limit_max_double\fR \fIMAX_DOUBLE\fR
Maximum number of times to double pause_rate_limit_initial on repeated
errors.

.TP
\fB\-\-pause_rate_limit_initial\fR \fIDELAY_MS\fR
Initial delay value in milliseconds between consecutive metadata
fetches due to Kafka-related errors.  The actual value has some
randomness added.

.TP
\fB\-\-kafka_socket_timeout\fR \fITIMEOUT_SECONDS\fR
Socket timeout in seconds to use when communicating with Kafka broker.

.TP
\fB\-\-metadata_refresh_interval\fR \fIINTERVAL_MINUTES\fR
Interval in minutes (plus or minus a bit of randomness) between
periodic metadata updates

.TP
\fB\-\-dispatcher_restart_max_delay\fR \fIMAX_DELAY_MS\fR
Max dispatcher shutdown delay in milliseconds when restarting
dispatcher for metadata update

.TP
\fB\-\-shutdown_max_delay\fR \fIMAX_DELAY_MS\fR
Maximum delay in milliseconds for sending buffered messages once
shutdown signal is received.

.TP
\fB\-\-replication_timeout\fR \fITIMEOUT\fR
Replication timeout value in millisceonds to send in produce requests.

.TP
\fB\-\-required_acks\fR \fIREQUIRED_ACKS\fR
Required ACKs value to send in produce requests.

.TP
\fB\-\-client_id\fR \fICLIENT_ID\fR
Client ID string to send in produce requests.

.TP
\fB\-\-daemon\fR
Run as daemon.

.TP
\fB\-\-max_failed_delivery_attempts\fR \fIMAX_ATTEMPTS\fR
Maximum number of failed delivery attempts allowed before a message is
discarded.

.TP
\fB\-\-allow_large_unix_datagrams\fR
Allow large enough values for max_input_msg_size that a client sending
a UNIX domain datagram of the maximum allowed size will need to
increase its SO_SNDBUF socket option above the default value.

.TP
\fB\-\-max_input_msg_size\fR \fIMAX_BYTES\fR
Maximum input message size in bytes expected from clients.  Messages
larger than this value will be discarded.  Here, "size" means total
combined size of topic, key, and value.

.TP
\fB\-\-msg_buffer_max\fR \fIMAX_KB\fR
(required)  Maximum amount of memory in Kb to use for buffering
messages.

.TP
\fB\-\-status_port\fR \fIPORT\fR
HTTP Status monitoring port.

.TP
\fB\-\-protocol_version\fR \fIVERSION\fR
Version of Kafka protocol to use.

.TP
\fB\-\-receive_socket_name\fR \fIPATH\fR
(required)  Pathname of UNIX domain socket for receiving messages from
web clients

.TP
\fB\-\-log_echo\fR
Echo syslog messages to standard error.


.TP
\fB\-\-log_level\fR \fI<LOG_ERR|LOG_WARNING|LOG_NOTICE|LOG_INFO|LOG_DEBUG>\fR
Log level.

.TP
\fB\-\-config_path\fR \fIPATH\fR
(required)  Pathname of config file.

.TP
\fB\-\-\fR, \fB\-\-ignore_rest\fR
Ignores the rest of the labeled arguments following this flag.

.TP
\fB\-\-version\fR
Displays version information and exits.

.TP
\fB\-h\fR, \fB\-\-help\fR
Displays usage information and exits.

.SH "AUTHOR"
This manual page was written by ChangZhuo Chen <czchen@gmail.com> for the
.B
Debian GNU/Linux
system (but may be used by others).
