.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.46.5.
.TH BRUCE "1" "April 2015" "bruce " "User Commands"
.SH NAME
bruce \- Producer daemon for Apache Kafka
.SH SYNOPSIS
.B bruce
[\fI\,options\/\fR]

.SH OPTIONS

.TP
\fB\-\-use_old_output_format\fR
Send messages to Kafka using old format.  Do not use this option,
since it will soon be removed.  Its purpose is to provide
compatibility with legacy infrastructure at if(we).

.TP
\fB\-\-use_old_input_format\fR
Expect input UNIX datagrams to adhere to old format.  Do not use this
option, since it will soon be removed.  Its purpose is to provide
compatibility with legacy infrastructure at if(we).

.TP
\fB\-\-retry_on_unknown_partition\fR
On receipt of "unknown topic or partition" error ACK, reroute message
after updating metadata rather than discarding it.  This is a
workaround for Kafka behavior that occurs when relocating a partition
to a different broker.

.TP
\fB\-\-topic_autocreate\fR
Enable support for automatic topic creation.  The Kafka brokers must
also be configured to support this.

.TP
\fB\-\-discard_report_bad_msg_prefix_size\fR \fIMAX_BYTES\fR
Maximum bad message prefix size in bytes to write to discard report

.TP
\fB\-\-discard_log_bad_msg_prefix_size\fR \fIMAX_BYTES\fR
Maximum bad message prefix size in bytes to write to discard logfile
when discarding

.TP
\fB\-\-discard_log_max_archive_size\fR \fIMAX_BYTES\fR
See description of discard_log_max_file_size.  Once a discard logfile
is renamed from f to f.N due to the size restriction imposed by
discard_log_max_file_size, the directory containing f.N is scanned for
all old discard logfiles.  If their combined size exceeds
discard_log_max_archive_size (specified in Kb), then old logfiles are
deleted, starting with the oldest, until their combined size no longer
exceeds the maximum.

.TP
\fB\-\-discard_log_max_file_size\fR \fIMAX_KB\fR
Maximum size (in Kb) of discard logfile.  When the next log entry e
would exceed the maximum, the logfile (with name f) is renamed to f.N
wnere N is the current time in milliseconds since the epoch.  Then a
new file f is opened, and e is written to f.  See also
discard_log_max_archive_size.

.TP
\fB\-\-discard_log_path\fR \fIPATH\fR
Absolute pathname of local file where discards will be logged.  This
is intended for debugging.  If unspecified, logging of discards to a
file will be disabled.

   --skip_compare_metadata_on_refresh
     On metadata refresh, don't compare new metadata to old metadata.
     Always replace the metadata even if it is unchanged.  This should be
     disabled for normal operation, but enabling it may be useful for
     testing.

   --msg_debug_byte_limit <MAX_BYTES>
     Message debugging byte limit.

   --msg_debug_time_limit <LIMIT_SECONDS>
     Message debugging time limit in seconds.

   --debug_dir <DIR>
     Directory for debug instrumentation files.

   --no_log_discard
     Do not write syslog messages when discards occur.  Discard information
     will still be available through the web interface.

   --discard_report_interval <INTERVAL_SECONDS>
     Discard reporting interval in seconds.

   --omit_timestamp
     Omit timestamps from messages (applicable only when using legacy input
     format).  Do not use this option, since it will soon be removed.  Its
     purpose is to provide compatibility with legacy infrastructure at
     if(we).

   --min_pause_delay <MIN_DELAY_MS>
     Minimum delay in milliseconds before fetching new metadata from Kafka
     in response to an error.

   --pause_rate_limit_max_double <MAX_DOUBLE>
     Maximum number of times to double pause_rate_limit_initial on repeated
     errors.

   --pause_rate_limit_initial <DELAY_MS>
     Initial delay value in milliseconds between consecutive metadata
     fetches due to Kafka-related errors.  The actual value has some
     randomness added.

   --kafka_socket_timeout <TIMEOUT_SECONDS>
     Socket timeout in seconds to use when communicating with Kafka broker.

   --metadata_refresh_interval <INTERVAL_MINUTES>
     Interval in minutes (plus or minus a bit of randomness) between
     periodic metadata updates

   --dispatcher_restart_max_delay <MAX_DELAY_MS>
     Max dispatcher shutdown delay in milliseconds when restarting
     dispatcher for metadata update

   --shutdown_max_delay <MAX_DELAY_MS>
     Maximum delay in milliseconds for sending buffered messages once
     shutdown signal is received.

   --replication_timeout <TIMEOUT>
     Replication timeout value in millisceonds to send in produce requests.

   --required_acks <REQUIRED_ACKS>
     Required ACKs value to send in produce requests.

   --client_id <CLIENT_ID>
     Client ID string to send in produce requests.

   --daemon
     Run as daemon.

   --max_failed_delivery_attempts <MAX_ATTEMPTS>
     Maximum number of failed delivery attempts allowed before a message is
     discarded.

   --allow_large_unix_datagrams
     Allow large enough values for max_input_msg_size that a client sending
     a UNIX domain datagram of the maximum allowed size will need to
     increase its SO_SNDBUF socket option above the default value.

   --max_input_msg_size <MAX_BYTES>
     Maximum input message size in bytes expected from clients.  Messages
     larger than this value will be discarded.  Here, "size" means total
     combined size of topic, key, and value.

   --msg_buffer_max <MAX_KB>
     (required)  Maximum amount of memory in Kb to use for buffering
     messages.

   --status_port <PORT>
     HTTP Status monitoring port.

   --protocol_version <VERSION>
     Version of Kafka protocol to use.

   --receive_socket_name <PATH>
     (required)  Pathname of UNIX domain socket for receiving messages from
     web clients

   --log_echo
     Echo syslog messages to standard error.

   --log_level <LOG_ERR|LOG_WARNING|LOG_NOTICE|LOG_INFO|LOG_DEBUG>
     Log level.

   --config_path <PATH>
     (required)  Pathname of config file.

   --,  --ignore_rest
     Ignores the rest of the labeled arguments following this flag.

   --version
     Displays version information and exits.

.TP
\fB\-h\fR, \fB\-\-help\fR
Displays usage information and exits.
